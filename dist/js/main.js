(()=>{"use strict";var __webpack_modules__={962:()=>{eval("\n;// CONCATENATED MODULE: ./modules/menu.js\n/*jshint esversion: 6 */\r\n\r\nconst menu = () => {\r\n\tconst headerContactsArrowBtn = document.querySelector('.header-contacts__arrow');\r\n\tconst menuIcon = document.querySelector('.menu__icon');\r\n\tconst popupDialogMenu = document.querySelector('.popup-dialog-menu');\r\n\tlet isPhoneNumberShown = false;\r\n\tlet isMenuShown = false;\r\n\r\n\tconst menuAnimationOn = () => {\r\n\t\tconst popupDialogMenu = document.querySelector('.popup-dialog-menu');\r\n\t\tpopupDialogMenu.style.transition = '0s';\r\n\r\n\t\tif (window.screen.width >= 576) {\r\n\t\t\tpopupDialogMenu.style.transform = 'translate3d(645px, 0, 0)';\r\n\t\t}\r\n\t\tif (window.screen.width < 576) {\r\n\t\t\tpopupDialogMenu.style.transform = 'translate3d(0, -1040px, 0)';\r\n\t\t}\r\n\t\tpopupDialogMenu.style.transition = '1s';\r\n\t\tpopupDialogMenu.style.transform = 'translate3d(0, 0, 0)';\r\n\t\tsetTimeout(() => {\r\n\t\t\tisMenuShown = true;\r\n\t\t}, 500);\r\n\t};\r\n\r\n\tconst menuAnimationOff = () => {\r\n\t\tconst popupDialogMenu = document.querySelector('.popup-dialog-menu');\r\n\t\tif (window.screen.width >= 576) {\r\n\t\t\tpopupDialogMenu.style.transform = 'translate3d(645px, 0, 0)';\r\n\t\t}\r\n\t\tif (window.screen.width < 576) {\r\n\t\t\tpopupDialogMenu.style.transform = 'translate3d(0, -1040px, 0)';\r\n\t\t}\r\n\t\tisMenuShown = false;\r\n\t};\r\n\r\n\theaderContactsArrowBtn.addEventListener('click', () => {\r\n\t\tconst phoneNumberAccord = document.querySelector('.header-contacts__phone-number-accord a');\r\n\r\n\t\tif (!isPhoneNumberShown) {\r\n\t\t\tphoneNumberAccord.style.paddingTop = '23px';\r\n\t\t\tphoneNumberAccord.style.opacity = '100%';\r\n\t\t\theaderContactsArrowBtn.querySelector('img').style.transform = 'rotate(180deg)';\r\n\t\t} else {\r\n\t\t\tphoneNumberAccord.style.paddingTop = '0px';\r\n\t\t\tphoneNumberAccord.style.opacity = '0';\r\n\t\t\theaderContactsArrowBtn.querySelector('img').style.transform = 'rotate(0deg)';\r\n\t\t}\r\n\r\n\t\tisPhoneNumberShown = !isPhoneNumberShown;\r\n\t});\r\n\r\n\tmenuIcon.addEventListener('click', (e) => {\r\n\t\te.preventDefault();\r\n\t\tmenuAnimationOn();\r\n\t});\r\n\r\n\tdocument.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.close-menu') || (isMenuShown && !e.target.closest('.popup-dialog-menu'))) {\r\n\t\t\te.preventDefault();\r\n\t\t\tmenuAnimationOff();\r\n\t\t}\r\n\t});\r\n\r\n\tif (window.screen.width >= 576) {\r\n\t\tpopupDialogMenu.style.transform = 'translate3d(645px, 0, 0)';\r\n\t}\r\n\tif (window.screen.width < 576) {\r\n\t\tpopupDialogMenu.style.transform = 'translate3d(0, -1040px, 0)';\r\n\t}\r\n};\r\n/* harmony default export */ const modules_menu = (menu);\r\n\n;// CONCATENATED MODULE: ./modules/smoothScroll.js\n/*jshint esversion: 6 */\r\n\r\nconst smoothScroll = () => {\r\n\tconst popupDialogMenu = document.querySelector('.popup-dialog-menu');\r\n\tconst buttonFooter = document.querySelector('.button-footer');\r\n\tconst menuItems = document.querySelectorAll('.menu-link');\r\n\r\n\tconst scrollUp = function (object) {\r\n\t\tobject.scrollIntoView({ block: 'start', behavior: 'smooth' });\r\n\t};\r\n\r\n\tconst menuAnimationOff = () => {\r\n\t\tif (window.screen.width >= 576) {\r\n\t\t\tpopupDialogMenu.style.transform = 'translate3d(645px, 0, 0)';\r\n\t\t}\r\n\t\tif (window.screen.width < 576) {\r\n\t\t\tpopupDialogMenu.style.transform = 'translate3d(0, -1040px, 0)';\r\n\t\t}\r\n\t};\r\n\r\n\tmenuItems.forEach((item) => {\r\n\t\tconst itemLink = document.getElementById(`${item.getAttribute('href').substring(1)}`);\r\n\t\tif (itemLink !== null) {\r\n\t\t\titem.addEventListener('click', (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tmenuAnimationOff();\r\n\t\t\t\tscrollUp.bind(itemLink)(itemLink);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tbuttonFooter.addEventListener('click', (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst itemLink = document.getElementById(buttonFooter.querySelector('a').getAttribute('href').substring(1));\r\n\t\tscrollUp.bind(itemLink)(itemLink);\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_smoothScroll = (smoothScroll);\r\n\n;// CONCATENATED MODULE: ./modules/modals.js\n/*jshint esversion: 6 */\r\n\r\nconst modals = () => {\r\n\tconst menuLink = document.querySelector('.link-list-menu>a');\r\n\tconst popup = document.querySelectorAll('.popup');\r\n\tconst linkListRepair = document.querySelectorAll('.link-list-repair');\r\n\tconst linkPrivacy = document.querySelectorAll('span.link-privacy');\r\n\tconst consultationBtns = document.querySelectorAll('.button.button_wide');\r\n\r\n\tconst showModalRepairTypes = () => {\r\n\t\tpopup.forEach((item) => {\r\n\t\t\tif (item.classList.contains('popup-repair-types')) {\r\n\t\t\t\titem.style.visibility = 'visible';\r\n\t\t\t\titem.addEventListener('click', (e) => {\r\n\t\t\t\t\tif (!e.target.closest('.popup-repair-types-content') && !e.target.closest('.popup-repair-types-tab')) {\r\n\t\t\t\t\t\titem.style.visibility = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst showModalPrivacy = () => {\r\n\t\tpopup.forEach((item) => {\r\n\t\t\tif (item.classList.contains('popup-privacy')) {\r\n\t\t\t\titem.style.visibility = 'visible';\r\n\t\t\t\titem.addEventListener('click', (e) => {\r\n\t\t\t\t\tif (!e.target.closest('.popup-dialog-privacy')) {\r\n\t\t\t\t\t\titem.style.visibility = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst showModalConsultation = () => {\r\n\t\tpopup.forEach((item) => {\r\n\t\t\tif (item.classList.contains('popup-consultation')) {\r\n\t\t\t\titem.style.visibility = 'visible';\r\n\t\t\t\titem.addEventListener('click', (e) => {\r\n\t\t\t\t\tif (!e.target.closest('.feedback-wrap') || e.target.closest('.close-consultation')) {\r\n\t\t\t\t\t\titem.style.visibility = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tmenuLink.addEventListener('click', () => {\r\n\t\tshowModalRepairTypes();\r\n\t});\r\n\tlinkListRepair.forEach((item) => {\r\n\t\titem.addEventListener('click', () => {\r\n\t\t\tshowModalRepairTypes();\r\n\t\t});\r\n\t});\r\n\tlinkPrivacy.forEach((item) => {\r\n\t\titem.addEventListener('click', () => {\r\n\t\t\tshowModalPrivacy();\r\n\t\t});\r\n\t});\r\n\r\n\tconsultationBtns.forEach((item) => {\r\n\t\titem.addEventListener('click', () => {\r\n\t\t\tshowModalConsultation();\r\n\t\t});\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_modals = (modals);\r\n\n;// CONCATENATED MODULE: ./modules/phoneValidation.js\nconst phoneValidation = () => {\r\n\tconst namePhone = document.querySelectorAll('[name=\"phone\"]');\r\n\r\n\tfunction phoneMask(element, mask = '+7 (___) ___-__-__') {\r\n\t\tfunction masking(event) {\r\n\t\t\tconst keyCode = event.keyCode;\r\n\t\t\tconst def = mask.replace(/\\D/g, '');\r\n\t\t\tconst value = this.value.replace(/\\D/g, '');\r\n\t\t\tlet i = 0;\r\n\t\t\tlet newValue = mask.replace(/[_\\d]/g, (a) => (i < value.length ? value.charAt(i++) || def.charAt(i) : a));\r\n\t\t\ti = newValue.indexOf('_');\r\n\t\t\tif (i !== -1) {\r\n\t\t\t\tnewValue = newValue.slice(0, i);\r\n\t\t\t}\r\n\t\t\tlet regexp = mask\r\n\t\t\t\t.substring(0, this.value.length)\r\n\t\t\t\t.replace(/_+/g, (a) => '\\\\d{1,' + a.length + '}')\r\n\t\t\t\t.replace(/[+()]/g, '\\\\$&');\r\n\t\t\tregexp = new RegExp('^' + regexp + '$');\r\n\t\t\tif (!regexp.test(this.value) || this.value.length < 5 || (keyCode > 47 && keyCode < 58)) {\r\n\t\t\t\tthis.value = newValue;\r\n\t\t\t}\r\n\t\t\tif (event.type === 'blur' && this.value.length < 5) {\r\n\t\t\t\tthis.value = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\telement.addEventListener('input', masking);\r\n\t\telement.addEventListener('focus', masking);\r\n\t\telement.addEventListener('blur', masking);\r\n\t}\r\n\r\n\tnamePhone.forEach((item) => {\r\n\t\t// console.log('~ item', item);\r\n\t\tphoneMask(item);\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_phoneValidation = (phoneValidation);\r\n\n;// CONCATENATED MODULE: ./modules/test.js\n/*jshint esversion: 6 */\r\n\r\nconst test = () => {};\r\n\r\n/* harmony default export */ const modules_test = (test);\r\n\n;// CONCATENATED MODULE: ./modules/sendForm.js\nconst sendForm = () => {\r\n\tconst feedbackForm = document.querySelectorAll('.feedback__form');\r\n\tconst feedbackBlockForm = document.querySelectorAll('.feedback-block__form');\r\n\tconst allSubmitForms = [...feedbackForm, ...feedbackBlockForm];\r\n\tconst popup = document.querySelectorAll('.popup');\r\n\r\n\tconst showModalThank = () => {\r\n\t\tpopup.forEach((item) => {\r\n\t\t\tif (item.classList.contains('popup-thank')) {\r\n\t\t\t\titem.style.visibility = 'visible';\r\n\t\t\t\titem.addEventListener('click', (e) => {\r\n\t\t\t\t\tif (!e.target.closest('.popup-thank-bg') || e.target.closest('.close-thank')) {\r\n\t\t\t\t\t\titem.style.visibility = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst resetInputs = (list) => {\r\n\t\tlist.forEach((input) => {\r\n\t\t\tif (input.name === 'phone' || input.name === 'name') {\r\n\t\t\t\tinput.value = '';\r\n\t\t\t}\r\n\t\t\tif (input.type === 'checkbox') {\r\n\t\t\t\tinput.checked = false;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst validate = (list) => {\r\n\t\tlet success = true;\r\n\t\tlist.forEach((input) => {\r\n\t\t\tif (\r\n\t\t\t\t(input.name === 'phone' && /^[\\d+() +-]+$/.test(input.value) && input.value.length > 10) ||\r\n\t\t\t\t(input.name === 'name' && /^[а-яА-Я ]+$/.test(input.value) && input.value.length > 1) ||\r\n\t\t\t\t(input.type === 'checkbox' && input.checked)\r\n\t\t\t) {\r\n\t\t\t\tinput.classList.add('success');\r\n\t\t\t\tinput.classList.remove('error');\r\n\t\t\t} else {\r\n\t\t\t\tinput.classList.add('error');\r\n\t\t\t\tinput.classList.remove('success');\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('~ input.name', input.name);\r\n\t\t\tconsole.log('~ input.type', input.type);\r\n\t\t\tconsole.log('~ input.checked', input.checked);\r\n\t\t\tconsole.log('~ input.classList', input.classList);\r\n\t\t});\r\n\t\tlist.forEach((input) => {\r\n\t\t\tif (input.classList.contains('error')) {\r\n\t\t\t\tsuccess = false;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn success;\r\n\t};\r\n\r\n\tconst sendData = (body) => {\r\n\t\treturn fetch('https://jsonplaceholder.typicode.com/posts', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(body),\r\n\t\t});\r\n\t};\r\n\r\n\tconst submitForm = (form) => {\r\n\t\tconst formElements = form.querySelectorAll('input');\r\n\t\tconst formData = new FormData(form);\r\n\t\tconst formBody = {};\r\n\t\tformData.forEach((val, key) => {\r\n\t\t\tformBody[key] = val;\r\n\t\t});\r\n\r\n\t\tif (validate(formElements)) {\r\n\t\t\tsendData(formBody)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tif (response.status !== 201) {\r\n\t\t\t\t\t\tthrow new Error('Что то пошло не так');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tconsole.log('data', data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\tresetInputs(formElements);\r\n\t\t\tshowModalThank();\r\n\t\t} else {\r\n\t\t\talert('Данные не валидны!');\r\n\t\t}\r\n\t};\r\n\r\n\tallSubmitForms.forEach((item) => {\r\n\t\titem.addEventListener('submit', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tsubmitForm.bind(item)(item);\r\n\t\t});\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_sendForm = (sendForm);\r\n\n;// CONCATENATED MODULE: ./index.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodules_menu();\r\nmodules_smoothScroll();\r\nmodules_modals();\r\nmodules_phoneValidation();\r\nmodules_test();\r\nmodules_sendForm();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0EsdURBQWUsUUFBUSxFQUFDOzs7QUMxR1U7QUFDZ0I7QUFDWjtBQUNrQjtBQUN0QjtBQUNRO0FBQzFDO0FBQ0EsWUFBSTtBQUNKLG9CQUFZO0FBQ1osY0FBTTtBQUNOLHVCQUFlO0FBQ2YsWUFBSTtBQUNKLGdCQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9tZW51LmpzPzUyNGIiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9zbW9vdGhTY3JvbGwuanM/ZjQ5NiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL21vZGFscy5qcz9mYzA5Iiwid2VicGFjazovLy8uL21vZHVsZXMvcGhvbmVWYWxpZGF0aW9uLmpzPzZlYzAiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy90ZXN0LmpzP2Y0YjAiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9zZW5kRm9ybS5qcz9mNDRjIiwid2VicGFjazovLy8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5jb25zdCBtZW51ID0gKCkgPT4ge1xyXG5cdGNvbnN0IGhlYWRlckNvbnRhY3RzQXJyb3dCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWNvbnRhY3RzX19hcnJvdycpO1xyXG5cdGNvbnN0IG1lbnVJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2ljb24nKTtcclxuXHRjb25zdCBwb3B1cERpYWxvZ01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtZGlhbG9nLW1lbnUnKTtcclxuXHRsZXQgaXNQaG9uZU51bWJlclNob3duID0gZmFsc2U7XHJcblx0bGV0IGlzTWVudVNob3duID0gZmFsc2U7XHJcblxyXG5cdGNvbnN0IG1lbnVBbmltYXRpb25PbiA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHBvcHVwRGlhbG9nTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1kaWFsb2ctbWVudScpO1xyXG5cdFx0cG9wdXBEaWFsb2dNZW51LnN0eWxlLnRyYW5zaXRpb24gPSAnMHMnO1xyXG5cclxuXHRcdGlmICh3aW5kb3cuc2NyZWVuLndpZHRoID49IDU3Nikge1xyXG5cdFx0XHRwb3B1cERpYWxvZ01lbnUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDY0NXB4LCAwLCAwKSc7XHJcblx0XHR9XHJcblx0XHRpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDU3Nikge1xyXG5cdFx0XHRwb3B1cERpYWxvZ01lbnUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDAsIC0xMDQwcHgsIDApJztcclxuXHRcdH1cclxuXHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2l0aW9uID0gJzFzJztcclxuXHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwgMCwgMCknO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGlzTWVudVNob3duID0gdHJ1ZTtcclxuXHRcdH0sIDUwMCk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgbWVudUFuaW1hdGlvbk9mZiA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHBvcHVwRGlhbG9nTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1kaWFsb2ctbWVudScpO1xyXG5cdFx0aWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPj0gNTc2KSB7XHJcblx0XHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoNjQ1cHgsIDAsIDApJztcclxuXHRcdH1cclxuXHRcdGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNTc2KSB7XHJcblx0XHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwgLTEwNDBweCwgMCknO1xyXG5cdFx0fVxyXG5cdFx0aXNNZW51U2hvd24gPSBmYWxzZTtcclxuXHR9O1xyXG5cclxuXHRoZWFkZXJDb250YWN0c0Fycm93QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJBY2NvcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWNvbnRhY3RzX19waG9uZS1udW1iZXItYWNjb3JkIGEnKTtcclxuXHJcblx0XHRpZiAoIWlzUGhvbmVOdW1iZXJTaG93bikge1xyXG5cdFx0XHRwaG9uZU51bWJlckFjY29yZC5zdHlsZS5wYWRkaW5nVG9wID0gJzIzcHgnO1xyXG5cdFx0XHRwaG9uZU51bWJlckFjY29yZC5zdHlsZS5vcGFjaXR5ID0gJzEwMCUnO1xyXG5cdFx0XHRoZWFkZXJDb250YWN0c0Fycm93QnRuLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKSc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwaG9uZU51bWJlckFjY29yZC5zdHlsZS5wYWRkaW5nVG9wID0gJzBweCc7XHJcblx0XHRcdHBob25lTnVtYmVyQWNjb3JkLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcblx0XHRcdGhlYWRlckNvbnRhY3RzQXJyb3dCdG4ucXVlcnlTZWxlY3RvcignaW1nJykuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgwZGVnKSc7XHJcblx0XHR9XHJcblxyXG5cdFx0aXNQaG9uZU51bWJlclNob3duID0gIWlzUGhvbmVOdW1iZXJTaG93bjtcclxuXHR9KTtcclxuXHJcblx0bWVudUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bWVudUFuaW1hdGlvbk9uKCk7XHJcblx0fSk7XHJcblxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdGlmIChlLnRhcmdldC5jbG9zZXN0KCcuY2xvc2UtbWVudScpIHx8IChpc01lbnVTaG93biAmJiAhZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwLWRpYWxvZy1tZW51JykpKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0bWVudUFuaW1hdGlvbk9mZigpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAod2luZG93LnNjcmVlbi53aWR0aCA+PSA1NzYpIHtcclxuXHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoNjQ1cHgsIDAsIDApJztcclxuXHR9XHJcblx0aWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA1NzYpIHtcclxuXHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwgLTEwNDBweCwgMCknO1xyXG5cdH1cclxufTtcclxuZXhwb3J0IGRlZmF1bHQgbWVudTtcclxuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5jb25zdCBzbW9vdGhTY3JvbGwgPSAoKSA9PiB7XHJcblx0Y29uc3QgcG9wdXBEaWFsb2dNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWRpYWxvZy1tZW51Jyk7XHJcblx0Y29uc3QgYnV0dG9uRm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1mb290ZXInKTtcclxuXHRjb25zdCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudS1saW5rJyk7XHJcblxyXG5cdGNvbnN0IHNjcm9sbFVwID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cdFx0b2JqZWN0LnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICdzdGFydCcsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBtZW51QW5pbWF0aW9uT2ZmID0gKCkgPT4ge1xyXG5cdFx0aWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPj0gNTc2KSB7XHJcblx0XHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoNjQ1cHgsIDAsIDApJztcclxuXHRcdH1cclxuXHRcdGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNTc2KSB7XHJcblx0XHRcdHBvcHVwRGlhbG9nTWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwgLTEwNDBweCwgMCknO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdG1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRjb25zdCBpdGVtTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2l0ZW0uZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyaW5nKDEpfWApO1xyXG5cdFx0aWYgKGl0ZW1MaW5rICE9PSBudWxsKSB7XHJcblx0XHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRtZW51QW5pbWF0aW9uT2ZmKCk7XHJcblx0XHRcdFx0c2Nyb2xsVXAuYmluZChpdGVtTGluaykoaXRlbUxpbmspO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0YnV0dG9uRm9vdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGNvbnN0IGl0ZW1MaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uRm9vdGVyLnF1ZXJ5U2VsZWN0b3IoJ2EnKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdWJzdHJpbmcoMSkpO1xyXG5cdFx0c2Nyb2xsVXAuYmluZChpdGVtTGluaykoaXRlbUxpbmspO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc21vb3RoU2Nyb2xsO1xyXG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbmNvbnN0IG1vZGFscyA9ICgpID0+IHtcclxuXHRjb25zdCBtZW51TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saW5rLWxpc3QtbWVudT5hJyk7XHJcblx0Y29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKTtcclxuXHRjb25zdCBsaW5rTGlzdFJlcGFpciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saW5rLWxpc3QtcmVwYWlyJyk7XHJcblx0Y29uc3QgbGlua1ByaXZhY3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLmxpbmstcHJpdmFjeScpO1xyXG5cdGNvbnN0IGNvbnN1bHRhdGlvbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uLmJ1dHRvbl93aWRlJyk7XHJcblxyXG5cdGNvbnN0IHNob3dNb2RhbFJlcGFpclR5cGVzID0gKCkgPT4ge1xyXG5cdFx0cG9wdXAuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwLXJlcGFpci10eXBlcycpKSB7XHJcblx0XHRcdFx0aXRlbS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG5cdFx0XHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKCFlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAtcmVwYWlyLXR5cGVzLWNvbnRlbnQnKSAmJiAhZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwLXJlcGFpci10eXBlcy10YWInKSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc2hvd01vZGFsUHJpdmFjeSA9ICgpID0+IHtcclxuXHRcdHBvcHVwLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cC1wcml2YWN5JykpIHtcclxuXHRcdFx0XHRpdGVtLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcblx0XHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cC1kaWFsb2ctcHJpdmFjeScpKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBzaG93TW9kYWxDb25zdWx0YXRpb24gPSAoKSA9PiB7XHJcblx0XHRwb3B1cC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtY29uc3VsdGF0aW9uJykpIHtcclxuXHRcdFx0XHRpdGVtLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcblx0XHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5mZWVkYmFjay13cmFwJykgfHwgZS50YXJnZXQuY2xvc2VzdCgnLmNsb3NlLWNvbnN1bHRhdGlvbicpKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRtZW51TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdHNob3dNb2RhbFJlcGFpclR5cGVzKCk7XHJcblx0fSk7XHJcblx0bGlua0xpc3RSZXBhaXIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0c2hvd01vZGFsUmVwYWlyVHlwZXMoKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cdGxpbmtQcml2YWN5LmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHNob3dNb2RhbFByaXZhY3koKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRjb25zdWx0YXRpb25CdG5zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHNob3dNb2RhbENvbnN1bHRhdGlvbigpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb2RhbHM7XHJcbiIsImNvbnN0IHBob25lVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuXHRjb25zdCBuYW1lUGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZT1cInBob25lXCJdJyk7XHJcblxyXG5cdGZ1bmN0aW9uIHBob25lTWFzayhlbGVtZW50LCBtYXNrID0gJys3IChfX18pIF9fXy1fXy1fXycpIHtcclxuXHRcdGZ1bmN0aW9uIG1hc2tpbmcoZXZlbnQpIHtcclxuXHRcdFx0Y29uc3Qga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XHJcblx0XHRcdGNvbnN0IGRlZiA9IG1hc2sucmVwbGFjZSgvXFxEL2csICcnKTtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XHJcblx0XHRcdGxldCBpID0gMDtcclxuXHRcdFx0bGV0IG5ld1ZhbHVlID0gbWFzay5yZXBsYWNlKC9bX1xcZF0vZywgKGEpID0+IChpIDwgdmFsdWUubGVuZ3RoID8gdmFsdWUuY2hhckF0KGkrKykgfHwgZGVmLmNoYXJBdChpKSA6IGEpKTtcclxuXHRcdFx0aSA9IG5ld1ZhbHVlLmluZGV4T2YoJ18nKTtcclxuXHRcdFx0aWYgKGkgIT09IC0xKSB7XHJcblx0XHRcdFx0bmV3VmFsdWUgPSBuZXdWYWx1ZS5zbGljZSgwLCBpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgcmVnZXhwID0gbWFza1xyXG5cdFx0XHRcdC5zdWJzdHJpbmcoMCwgdGhpcy52YWx1ZS5sZW5ndGgpXHJcblx0XHRcdFx0LnJlcGxhY2UoL18rL2csIChhKSA9PiAnXFxcXGR7MSwnICsgYS5sZW5ndGggKyAnfScpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1srKCldL2csICdcXFxcJCYnKTtcclxuXHRcdFx0cmVnZXhwID0gbmV3IFJlZ0V4cCgnXicgKyByZWdleHAgKyAnJCcpO1xyXG5cdFx0XHRpZiAoIXJlZ2V4cC50ZXN0KHRoaXMudmFsdWUpIHx8IHRoaXMudmFsdWUubGVuZ3RoIDwgNSB8fCAoa2V5Q29kZSA+IDQ3ICYmIGtleUNvZGUgPCA1OCkpIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlID0gbmV3VmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGV2ZW50LnR5cGUgPT09ICdibHVyJyAmJiB0aGlzLnZhbHVlLmxlbmd0aCA8IDUpIHtcclxuXHRcdFx0XHR0aGlzLnZhbHVlID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBtYXNraW5nKTtcclxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBtYXNraW5nKTtcclxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG1hc2tpbmcpO1xyXG5cdH1cclxuXHJcblx0bmFtZVBob25lLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdC8vIGNvbnNvbGUubG9nKCd+IGl0ZW0nLCBpdGVtKTtcclxuXHRcdHBob25lTWFzayhpdGVtKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHBob25lVmFsaWRhdGlvbjtcclxuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5jb25zdCB0ZXN0ID0gKCkgPT4ge307XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZXN0O1xyXG4iLCJjb25zdCBzZW5kRm9ybSA9ICgpID0+IHtcclxuXHRjb25zdCBmZWVkYmFja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZGJhY2tfX2Zvcm0nKTtcclxuXHRjb25zdCBmZWVkYmFja0Jsb2NrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mZWVkYmFjay1ibG9ja19fZm9ybScpO1xyXG5cdGNvbnN0IGFsbFN1Ym1pdEZvcm1zID0gWy4uLmZlZWRiYWNrRm9ybSwgLi4uZmVlZGJhY2tCbG9ja0Zvcm1dO1xyXG5cdGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwJyk7XHJcblxyXG5cdGNvbnN0IHNob3dNb2RhbFRoYW5rID0gKCkgPT4ge1xyXG5cdFx0cG9wdXAuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwLXRoYW5rJykpIHtcclxuXHRcdFx0XHRpdGVtLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcblx0XHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cC10aGFuay1iZycpIHx8IGUudGFyZ2V0LmNsb3Nlc3QoJy5jbG9zZS10aGFuaycpKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCByZXNldElucHV0cyA9IChsaXN0KSA9PiB7XHJcblx0XHRsaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRcdGlmIChpbnB1dC5uYW1lID09PSAncGhvbmUnIHx8IGlucHV0Lm5hbWUgPT09ICduYW1lJykge1xyXG5cdFx0XHRcdGlucHV0LnZhbHVlID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcclxuXHRcdFx0XHRpbnB1dC5jaGVja2VkID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IHZhbGlkYXRlID0gKGxpc3QpID0+IHtcclxuXHRcdGxldCBzdWNjZXNzID0gdHJ1ZTtcclxuXHRcdGxpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdChpbnB1dC5uYW1lID09PSAncGhvbmUnICYmIC9eW1xcZCsoKSArLV0rJC8udGVzdChpbnB1dC52YWx1ZSkgJiYgaW5wdXQudmFsdWUubGVuZ3RoID4gMTApIHx8XHJcblx0XHRcdFx0KGlucHV0Lm5hbWUgPT09ICduYW1lJyAmJiAvXlvQsC3Rj9CQLdCvIF0rJC8udGVzdChpbnB1dC52YWx1ZSkgJiYgaW5wdXQudmFsdWUubGVuZ3RoID4gMSkgfHxcclxuXHRcdFx0XHQoaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94JyAmJiBpbnB1dC5jaGVja2VkKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7XHJcblx0XHRcdFx0aW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdFx0XHRcdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coJ34gaW5wdXQubmFtZScsIGlucHV0Lm5hbWUpO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnfiBpbnB1dC50eXBlJywgaW5wdXQudHlwZSk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCd+IGlucHV0LmNoZWNrZWQnLCBpbnB1dC5jaGVja2VkKTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ34gaW5wdXQuY2xhc3NMaXN0JywgaW5wdXQuY2xhc3NMaXN0KTtcclxuXHRcdH0pO1xyXG5cdFx0bGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0XHRpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcblx0XHRcdFx0c3VjY2VzcyA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBzdWNjZXNzO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IHNlbmREYXRhID0gKGJvZHkpID0+IHtcclxuXHRcdHJldHVybiBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJywge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdH0sXHJcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc3VibWl0Rm9ybSA9IChmb3JtKSA9PiB7XHJcblx0XHRjb25zdCBmb3JtRWxlbWVudHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcblx0XHRjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuXHRcdGNvbnN0IGZvcm1Cb2R5ID0ge307XHJcblx0XHRmb3JtRGF0YS5mb3JFYWNoKCh2YWwsIGtleSkgPT4ge1xyXG5cdFx0XHRmb3JtQm9keVtrZXldID0gdmFsO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHZhbGlkYXRlKGZvcm1FbGVtZW50cykpIHtcclxuXHRcdFx0c2VuZERhdGEoZm9ybUJvZHkpXHJcblx0XHRcdFx0LnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDEpIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCfQp9GC0L4g0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6Jyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHJlc2V0SW5wdXRzKGZvcm1FbGVtZW50cyk7XHJcblx0XHRcdHNob3dNb2RhbFRoYW5rKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRhbGVydCgn0JTQsNC90L3Ri9C1INC90LUg0LLQsNC70LjQtNC90YshJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YWxsU3VibWl0Rm9ybXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHN1Ym1pdEZvcm0uYmluZChpdGVtKShpdGVtKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2VuZEZvcm07XHJcbiIsImltcG9ydCBtZW51IGZyb20gJy4vbW9kdWxlcy9tZW51JztcclxuaW1wb3J0IHNtb290aFNjcm9sbCBmcm9tICcuL21vZHVsZXMvc21vb3RoU2Nyb2xsJztcclxuaW1wb3J0IG1vZGFscyBmcm9tICcuL21vZHVsZXMvbW9kYWxzJztcclxuaW1wb3J0IHBob25lVmFsaWRhdGlvbiBmcm9tICcuL21vZHVsZXMvcGhvbmVWYWxpZGF0aW9uJztcclxuaW1wb3J0IHRlc3QgZnJvbSAnLi9tb2R1bGVzL3Rlc3QnO1xyXG5pbXBvcnQgc2VuZEZvcm0gZnJvbSAnLi9tb2R1bGVzL3NlbmRGb3JtJztcclxuXHJcbm1lbnUoKTtcclxuc21vb3RoU2Nyb2xsKCk7XHJcbm1vZGFscygpO1xyXG5waG9uZVZhbGlkYXRpb24oKTtcclxudGVzdCgpO1xyXG5zZW5kRm9ybSgpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///962\n")}},__webpack_exports__={};__webpack_modules__[962]()})();